var arrAnimals=["ant","bird"," cat","chicken","cow","dog","elephant","fish","fox","horse","kangaroo","lion","monkey","penguin","pig","rabbit","sheep","tiger","whale","wolf","zebra"],a,b,u,readerTimerScroll=true,readerScrollTop=0,scrollSpeed=100,readerScrollAutoDown=0,getURLToken,defaultRoomName="";$(function(){applyConfig(loadConfig());$(".sectionNavigation").click(function(c){c.preventDefault();u=$(this).attr("href");b=$("#room").val();if(u=="#reader"){document.location.href="/reader/"}else{if(u=="#writer"){document.location.href="/writer/"}else{if(u=="#reset"){saveConfig({fontColor:"font-color-primary",backgroundColor:"background-color-primary",fontFamily:"font-family-secundary",readerStyle:"readerStyle-One",textWeight:"text-weight-regular",textTransform:"text-transform-normal",room:token(),flipHorizontal:false,flipVertical:false,fullscreen:false});applyConfig(loadConfig())}else{if(u=="#alertClose"){$(".alert").hide()}else{if(u=="#mainScreenOptions"){$(".mainScreenOptions").show();$("html").addClass("no-scroll")}else{if(u=="#mainScreenOptionsClose"){$(".mainScreenOptions").hide();$("html").removeClass("no-scroll")}else{if(u=="#mainScreenHelp"){$(".mainScreenHelp").show();$("html").addClass("no-scroll")}else{if(u=="#mainScreenHelpClose"){$(".mainScreenHelp").hide();$("html").removeClass("no-scroll")}else{if(u=="#mainScreenRandom"){$("#room").val(generateRoomName())}else{if(u=="#mainScreenPrevious"){$(".part2").addClass("hidden");$(".part1").removeClass("hidden")}else{if(u=="#mainScreenNext"){$(".part1").addClass("hidden");$(".part2").removeClass("hidden")}else{if(u=="#fullscreen"){setConfigItem("fullscreen",!loadConfig().fullscreen)}else{console.log(u+": There was a button that won't work, Report to the developer");alert(u+": Report to developer")}}}}}}}}}}}}});$(".dropdown-content a").click(function(d){d.preventDefault();var c=$(this).data("href");if(c.match("^font-color-*")){setConfigItem("fontColor",c)}else{if(c.match("^background-color-*")){setConfigItem("backgroundColor",c)}else{if(c.match("^font-family-*")){setConfigItem("fontFamily",c)}else{if(c.match("^readerStyle-*")){setConfigItem("readerStyle",c)}else{if(c.match("^text-weight-*")){setConfigItem("textWeight",c)}else{if(c.match("^text-transform-*")){setConfigItem("textTransform",c)}}}}}}});$("#createRoom, #arrow-right").click(function(f){f.preventDefault();var d=$("#room").val();var c=$("#defaultRoomName").val();setConfigItem("room",d);$("#defaultRoomName").val(d);$(".alert-text").text("Room has been created");$(".alert").show()})});function token(){getURLToken=getURLQuery("room");if(getURLToken==false){if(defaultRoomName==""){return generateRoomName()}else{return defaultRoomName}}else{return getURLToken}}function generateRoomName(){var c=arrAnimals[Math.floor(Math.random()*arrAnimals.length)].toLowerCase(),d=Math.floor(Math.random()*1000)+1;return c+d}function getURLQuery(c){var e=window.location.search.substring(1);var f=e.split("&");for(var d=0;d<f.length;d++){var g=f[d].split("=");if(g[0]==c){return g[1]}}return(false)}function loadConfig(){if(!localStorage.config){saveConfig({fontColor:"font-color-primary",backgroundColor:"background-color-primary",fontFamily:"font-family-secundary",readerStyle:"readerStyle-One",textWeight:"text-weight-regular",textTransform:"text-transform-normal",room:token(),flipHorizontal:false,flipVertical:false,fullscreen:false})}return JSON.parse(localStorage.config)}function saveConfig(c){localStorage.config=JSON.stringify(c)}function setConfigItem(d,e){var c=loadConfig();c[d]=e;saveConfig(c);applyConfig(c)}function applyConfig(i){$("#room,#defaultRoomName").val(i.room);if(i!==null||i!=null){var h=i.fontColor,g=i.backgroundColor,n=i.fontFamily,m=i.readerStyle,l=i.textWeight,k=i.textTransform,j=h+" "+g+" "+n+" "+m+" "+l+" "+k;$("body").removeAttr("class").addClass(j)}launchFullscreen(document.documentElement,i.fullscreen)}function launchFullscreen(c,d){if(d==false){$(".fullscreen").addClass("fa-compress").removeClass("fa-expand");if(c.requestFullscreen){c.requestFullscreen()}else{if(c.mozRequestFullScreen){c.mozRequestFullScreen()}else{if(c.webkitRequestFullscreen){c.webkitRequestFullscreen()}else{if(c.msRequestFullscreen){c.msRequestFullscreen()}}}}}else{if(d==true){$(".fullscreen").addClass("fa-expand").removeClass("fa-compress");if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(c.msCancelFullscreen){c.msCancelFullscreen()}}}}}}};